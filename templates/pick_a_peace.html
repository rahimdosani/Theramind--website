<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Pick-a-Peace | Theramind</title>
<link rel="icon" type="image/png" href="{{ url_for('static', filename='gift.png') }}">
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />

<style>
/* ===================== Theme Variables ===================== */
:root {
  --background:#ffffff;
  --foreground:#111111;
  --primary:#4f46e5;
  --accent:#06b6d4;
  --sidebar-bg:rgba(255,255,255,0.55);
  --glass-blur:blur(16px) saturate(180%);
  --button-color:#111;

  --happy:#ffe44c;
  --sad:#8ac0f2;
  --angry:#ff5e5e;
  --calm:#90ee90;
}

body.dark-theme {
  --background:#0d0d0f;
  --foreground:#f0f0f0;
  --primary:#6366f1;
  --accent:#67e8f9;
  --sidebar-bg:rgba(30,30,30,0.6);
  --button-color:#fff;
}

/* ===================== Global ===================== */
*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:'Poppins',sans-serif;
  background:var(--background);
  color:var(--foreground);
  min-height:100vh;
  overflow-x:hidden;
  transition:background .3s,color .3s;
}

/* ===================== Navbar ===================== */
.tm-nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  height:75px;
  padding:0 2rem;
  background:var(--sidebar-bg);
  backdrop-filter:var(--glass-blur);
  box-shadow:0 6px 25px rgba(0,0,0,.15);
  position:sticky;
  top:0;
  z-index:1000;
}

.tm-brand{
  display:flex;
  align-items:center;
  gap:.75rem;
  font-weight:700;
  font-size:1.4rem;
  color:var(--foreground);
  text-decoration:none;
}

.tm-brand img{height:36px}

.tm-navlinks{
  display:flex;
  gap:1.5rem;
}

.tm-navlinks a{
  font-weight:600;
  color:var(--primary);
  text-decoration:none;
  position:relative;
}

.tm-navlinks a.active::after{
  content:'';
  position:absolute;
  left:0;
  bottom:-6px;
  width:100%;
  height:3px;
  border-radius:4px;
  background:var(--primary);
}

.tm-hamburger{display:none;font-size:1.5rem;cursor:pointer}

.theme-toggle{
  cursor:pointer;
  padding:6px 10px;
  border-radius:6px;
  font-size:.9rem;
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:var(--button-color);
}

/* ===================== Layout ===================== */
#particles-js{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}

main{
  padding:40px 20px;
  display:flex;
  flex-direction:column;
  align-items:center;
  position:relative;
  z-index:1;
}

h1{font-size:2.8rem;margin-bottom:8px}
.subtitle{font-size:1.1rem;color:#666;margin-bottom:26px}

/* ===================== Bowl ===================== */
.bowl-container{
  width:100%;
  max-width:1000px;
  height:420px;
  padding:30px;
  gap:16px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  align-items:center;
  border-radius:50% / 35%;
  background:radial-gradient(circle at 50% 40%,#ffffffb0,#c7d2fe);
  border:5px solid #ffffff88;
  box-shadow:inset 0 8px 25px rgba(0,0,0,.15);
  overflow:hidden;
}

.bowl-container.shake{
  animation:bowl-shuffle .9s cubic-bezier(.36,.07,.19,.97);
}

@keyframes bowl-shuffle{
  0%{transform:rotate(0)}
  15%{transform:rotate(-4deg)}
  30%{transform:rotate(4deg)}
  45%{transform:rotate(-3deg)}
  60%{transform:rotate(3deg)}
  100%{transform:rotate(0)}
}

/* ===================== Chits ===================== */
.chit{
  width:70px;
  height:40px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:.8rem;
  font-weight:600;
  color:#222;
  cursor:pointer;
  box-shadow:0 6px 14px rgba(0,0,0,.25);
  transform:rotate(calc(-6deg + 12deg * var(--rand)));
  transition:transform .35s cubic-bezier(.2,.8,.2,1),box-shadow .35s;
}

.chit:hover{
  transform:translateY(-6px) rotate(0deg) scale(1.08);
  box-shadow:0 16px 32px rgba(0,0,0,.35);
  z-index:3;
}

/* ===================== Popup ===================== */
.popup{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%) scale(.94);
  background:var(--sidebar-bg);
  backdrop-filter:var(--glass-blur);
  padding:26px 30px;
  border-radius:18px;
  text-align:center;
  font-size:1.1rem;
  box-shadow:0 14px 44px rgba(0,0,0,.3);
  z-index:999;
  animation:popup-in .3s ease forwards;
  max-width:400px;
  width:90%;
}

@keyframes popup-in{
  to{transform:translate(-50%,-50%) scale(1);opacity:1}
}

.popup p{
  margin-bottom:18px;
  line-height:1.55;
}

.popup .close-btn{
  position:absolute;
  top:12px;
  right:14px;
  width:32px;
  height:32px;
  border-radius:50%;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  background:rgba(0,0,0,.05);
  color:var(--foreground);
}

body.dark-theme .popup .close-btn{
  background:rgba(255,255,255,.12);
}

.popup button{
  margin:10px 6px 0;
  padding:10px 22px;
  border-radius:999px;
  border:none;
  font-weight:600;
  cursor:pointer;
  transition:transform .25s,box-shadow .25s,background .25s;
}

.popup button:first-of-type{
  background:linear-gradient(135deg,var(--primary),var(--accent));
  color:#fff;
  box-shadow:0 6px 20px rgba(79,70,229,.45);
}

.popup button:last-of-type{
  background:rgba(0,0,0,.06);
  color:var(--foreground);
}

body.dark-theme .popup button:last-of-type{
  background:rgba(255,255,255,.12);
}

/* ===================== Overlay ===================== */
.popup-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.35);
  backdrop-filter:blur(2px);
  z-index:998;
}

/* ===================== Buttons ===================== */
.shuffle-btn,.saved-btn{
  margin:25px 10px 0;
  padding:12px 26px;
  font-size:1rem;
  background:var(--primary);
  color:#fff;
  border:none;
  border-radius:12px;
  cursor:pointer;
}

/* ===================== Legend ===================== */
.legend{
  display:flex;
  gap:24px;
  margin-top:16px;
  flex-wrap:wrap;
  justify-content:center;
}

.legend-item{
  display:flex;
  align-items:center;
  gap:8px;
  font-size:.9rem;
}

.legend-item span{
  width:18px;
  height:18px;
  border-radius:50%;
}

.legend-toggle{
  display:none;
  margin-top:14px;
  padding:8px 14px;
  border-radius:999px;
  border:none;
  cursor:pointer;
  font-size:.85rem;
  background:var(--sidebar-bg);
  backdrop-filter:var(--glass-blur);
  color:var(--foreground);
}

/* ===================== Saved Panel ===================== */
.saved-panel{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:var(--sidebar-bg);
  backdrop-filter:var(--glass-blur);
  border-radius:16px;
  padding:20px;
  width:350px;
  max-height:60vh;
  overflow:auto;
  display:none;
  box-shadow:0 10px 30px rgba(0,0,0,.3);
  z-index:999;
}

.saved-panel.active{display:block}

.saved-item{
  background:rgba(0,0,0,.04);
  padding:8px 10px;
  border-radius:8px;
  margin-bottom:10px;
  font-size:.9rem;
  color:var(--foreground);
}

body.dark-theme .saved-item{
  background:rgba(255,255,255,.08);
}

/* ===================== Toast ===================== */
.toast{
  position:fixed;
  bottom:24px;
  left:50%;
  transform:translateX(-50%);
  background:var(--sidebar-bg);
  backdrop-filter:var(--glass-blur);
  padding:10px 18px;
  border-radius:12px;
  font-size:.9rem;
  box-shadow:0 8px 24px rgba(0,0,0,.25);
  animation:toast 2.6s forwards;
  z-index:2000;
}

@keyframes toast{
  10%,85%{opacity:1}
  100%{opacity:0}
}

/* ===================== Responsive ===================== */
@media(max-width:768px){
  .tm-hamburger{display:block}
  .tm-nav{flex-direction:column;align-items:flex-start;padding:1rem}
  .tm-navlinks{display:none;flex-direction:column;width:100%;gap:.6rem}
  .tm-navlinks.show-links{display:flex}
  .shuffle-btn,.saved-btn{width:100%}
}

@media(max-width:480px){
  h1{font-size:1.6rem}
  .subtitle{font-size:.9rem}
  .bowl-container{height:220px;padding:12px}
  .chit{width:50px;height:28px;font-size:.6rem}
  .legend{display:none}
  .legend.show{display:flex}
  .legend-toggle{display:inline-block}
}
</style>

</head>
<body>

<header class="tm-nav">
  <a class="tm-brand" href="/home">
    <img src="https://img.icons8.com/fluency/48/brain.png" alt="Theramind Logo">
    <span>Theramind</span>
  </a>

  <div class="tm-hamburger" aria-label="Toggle navigation">‚ò∞</div>

  <nav class="tm-navlinks">
    <a href="/">üè† Home</a>
    <a href="/index">üí¨ Chat</a>
    <a href="/journaling">üìì Journal</a>
    <a href="/breathing">ü´Å Breathing</a>
    <a href="/pick-a-peace" class="active">üìÉ Pick-a-Peace</a>
    <a href="/calm-corner">üßò Calm Corner</a>
    <a href="/ebooks">üìö E-Books</a>
    <a href="/history">üï∞Ô∏è History</a>
  </nav>

  <div class="theme-toggle" id="themeToggle" role="button" aria-label="Toggle theme">
    üåì Theme
  </div>
</header>

<!-- Particles Background -->
<div id="particles-js" aria-hidden="true"></div>

<main>
  <h1>Pick-a-Peace</h1>
  <p class="subtitle">
    Pick a chit from the bowl and reveal a thoughtful reflection.
  </p>

  <!-- Bowl -->
  <div class="bowl-container" id="bowl" aria-label="Pick a peace bowl"></div>

  <!-- Actions -->
  <button class="shuffle-btn" onclick="shuffleChits(this)">
    üîÑ Shuffle Chits
  </button>

  <button class="saved-btn" onclick="toggleSaved()">
    üìå Saved Quotes
  </button>

  <!-- Mobile legend toggle -->
  <button class="legend-toggle" onclick="toggleLegend()">
    ‚ÑπÔ∏è Moods
  </button>

  <!-- Legend -->
  <div class="legend">
    <div class="legend-item">
      <span style="background: var(--happy);"></span> Happy
    </div>
    <div class="legend-item">
      <span style="background: var(--sad);"></span> Sad
    </div>
    <div class="legend-item">
      <span style="background: var(--angry);"></span> Angry
    </div>
    <div class="legend-item">
      <span style="background: var(--calm);"></span> Calm
    </div>
  </div>
</main>

<!-- Saved Quotes Panel -->
<div class="saved-panel" id="savedPanel" role="dialog" aria-modal="true">
  <h3>Saved Quotes</h3>
  <div id="savedList"></div>
  <button onclick="toggleSaved()">Close</button>
</div>
<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
/* ===================== Calm Particles ===================== */
const isMobile = window.innerWidth <= 480;
particlesJS("particles-js", {
  particles: {
    number: { value: isMobile ? 40 : 90 },
    color: { value: ["#6c63ff","#4f46e5","#67e8f9"] },
    opacity: { value: 0.45, random: true },
    size: { value: isMobile ? 3 : 5, random: true },
    move: { enable: true, speed: isMobile ? 0.4 : 0.7 },
    line_linked: { enable: false }
  },
  retina_detect: true
});

/* ===================== Active Nav ===================== */
document.querySelectorAll(".tm-navlinks a").forEach(a => {
  if (a.getAttribute("href") === window.location.pathname) {
    a.classList.add("active");
  }
});

/* ===================== Theme Toggle ===================== */
const themeToggle = document.getElementById("themeToggle");
if (localStorage.getItem("theme") === "dark") {
  document.body.classList.add("dark-theme");
  themeToggle.textContent = "‚òÄÔ∏è Theme";
} else {
  themeToggle.textContent = "üåô Theme";
}
themeToggle.onclick = () => {
  document.body.classList.toggle("dark-theme");
  const isDark = document.body.classList.contains("dark-theme");
  localStorage.setItem("theme", isDark ? "dark" : "light");
  themeToggle.textContent = isDark ? "‚òÄÔ∏è Theme" : "üåô Theme";
};

/* ===================== Hamburger ===================== */
const hamburger = document.querySelector(".tm-hamburger");
const nav = document.querySelector(".tm-navlinks");
hamburger.onclick = () => nav.classList.toggle("show-links");
window.addEventListener("resize", () => {
  if (window.innerWidth > 768) nav.classList.remove("show-links");
});

/* ===================== Toast ===================== */
function showToast(msg) {
  const toast = document.createElement("div");
  toast.className = "toast";
  toast.textContent = msg;
  document.body.appendChild(toast);
  setTimeout(() => toast.remove(), 2600);
}

/* ===================== QUOTE LIBRARY (STATIC, UNIQUE) ===================== */
/* You can expand this anytime ‚Äî logic does not change */
const QUOTE_LIBRARY = {
  calm: [
    { id:"c1", text:"Let the moment soften around you." },
    { id:"c2", text:"Stillness is already doing its work." },
    { id:"c3", text:"Nothing is required of you right now." },
    { id:"c4", text:"Peace does not need effort." },
    { id:"c5", text:"Rest is allowed here." },
    { id:"c6", text:"You can pause without falling behind." },
    { id:"c7", text:"Quiet moments still count as progress." },
    { id:"c8", text:"The present does not demand performance." },
    { id:"c9", text:"Breathe as if you have nowhere else to be." },
    { id:"c10", text:"Slowing down is not a failure." },
    { id:"c11", text:"You are permitted to be unhurried." },
    { id:"c12", text:"Calm is not something to chase." },
    { id:"c13", text:"Let your body remember safety." },
    { id:"c14", text:"Silence can be supportive." },
    { id:"c15", text:"Ease arrives when you stop pushing." },
    { id:"c16", text:"This space is not asking anything of you." },
    { id:"c17", text:"Gentle attention is enough." },
    { id:"c18", text:"You don‚Äôt need to solve anything right now." },
    { id:"c19", text:"Calm often arrives quietly." },
    { id:"c20", text:"Stillness can hold you." },
    { id:"c21", text:"You are allowed to settle." },
    { id:"c22", text:"There is no urgency in this moment." },
    { id:"c23", text:"Rest does not erase your strength." },
    { id:"c24", text:"Being present is already doing enough." },
    { id:"c25", text:"Let this moment be simple." }
  ],

  happy: [
    { id:"h1", text:"Joy grows when it is noticed." },
    { id:"h2", text:"This moment belongs to you." },
    { id:"h3", text:"Light gathers without permission." },
    { id:"h4", text:"You don‚Äôt need to shrink this feeling." },
    { id:"h5", text:"Let it stay a little longer." },
    { id:"h6", text:"Happiness doesn‚Äôt need justification." },
    { id:"h7", text:"It‚Äôs okay to enjoy this fully." },
    { id:"h8", text:"Joy does not need to be productive." },
    { id:"h9", text:"Notice what feels good right now." },
    { id:"h10", text:"You are allowed to feel light." },
    { id:"h11", text:"Moments like this still matter." },
    { id:"h12", text:"This warmth is not accidental." },
    { id:"h13", text:"Joy can be quiet and real." },
    { id:"h14", text:"You don‚Äôt need to rush past this." },
    { id:"h15", text:"Let yourself receive this feeling." },
    { id:"h16", text:"Happiness does not need permission." },
    { id:"h17", text:"There is space for joy here." },
    { id:"h18", text:"This feeling is safe to keep." },
    { id:"h19", text:"Joy doesn‚Äôt have to be loud." },
    { id:"h20", text:"You‚Äôre allowed to like this moment." },
    { id:"h21", text:"Joy is not something to earn." },
    { id:"h22", text:"Let this be uncomplicated." },
    { id:"h23", text:"Smaller joys still count." },
    { id:"h24", text:"You can trust this feeling." },
    { id:"h25", text:"This lightness is valid." }
  ],

  sad: [
    { id:"s1", text:"Tenderness is allowed here." },
    { id:"s2", text:"You are not weak for feeling deeply." },
    { id:"s3", text:"Nothing about this makes you broken." },
    { id:"s4", text:"Gentleness still counts." },
    { id:"s5", text:"This weight will ease in time." },
    { id:"s6", text:"You don‚Äôt have to carry everything alone." },
    { id:"s7", text:"It‚Äôs okay to move slowly today." },
    { id:"s8", text:"Feeling heavy does not mean you‚Äôre failing." },
    { id:"s9", text:"Your emotions are not a problem." },
    { id:"s10", text:"There is room for softness here." },
    { id:"s11", text:"You don‚Äôt need to explain your sadness." },
    { id:"s12", text:"Pain does not cancel your worth." },
    { id:"s13", text:"You are allowed to rest while healing." },
    { id:"s14", text:"This feeling is not permanent." },
    { id:"s15", text:"You can be kind to yourself here." },
    { id:"s16", text:"Sadness does not erase progress." },
    { id:"s17", text:"You‚Äôre not behind because of this." },
    { id:"s18", text:"It‚Äôs okay to feel unfinished." },
    { id:"s19", text:"Your heart is responding honestly." },
    { id:"s20", text:"This moment does not define you." },
    { id:"s21", text:"You don‚Äôt need to be strong right now." },
    { id:"s22", text:"Healing doesn‚Äôt follow schedules." },
    { id:"s23", text:"You are still worthy of care." },
    { id:"s24", text:"This feeling can exist without judgment." },
    { id:"s25", text:"You are allowed to grieve gently." }
  ],

  angry: [
    { id:"a1", text:"Pause before the fire leads." },
    { id:"a2", text:"Strength does not require force." },
    { id:"a3", text:"You can respond without harm." },
    { id:"a4", text:"Power can be quiet." },
    { id:"a5", text:"Release is possible." },
    { id:"a6", text:"Anger often wants protection." },
    { id:"a7", text:"You don‚Äôt need to act immediately." },
    { id:"a8", text:"Pause creates choice." },
    { id:"a9", text:"Intensity does not need to control you." },
    { id:"a10", text:"You can breathe before responding." },
    { id:"a11", text:"Anger is information, not instruction." },
    { id:"a12", text:"Your power remains intact." },
    { id:"a13", text:"You don‚Äôt need to prove anything." },
    { id:"a14", text:"Strong feelings don‚Äôt require strong reactions." },
    { id:"a15", text:"You are allowed to slow this down." },
    { id:"a16", text:"Clarity arrives after pause." },
    { id:"a17", text:"You can choose restraint." },
    { id:"a18", text:"Breath can interrupt the spiral." },
    { id:"a19", text:"You are more than this reaction." },
    { id:"a20", text:"Anger does not define you." },
    { id:"a21", text:"You can hold strength without aggression." },
    { id:"a22", text:"This moment does not require escalation." },
    { id:"a23", text:"You remain in control." },
    { id:"a24", text:"Release does not mean weakness." },
    { id:"a25", text:"You can choose calm authority." }
  ]
};


const MOODS = Object.keys(QUOTE_LIBRARY);

/* ===================== PERSISTENT MEMORY ===================== */
let usedQuoteIds = JSON.parse(localStorage.getItem("usedQuoteIds")) || [];

/* ===================== HELPERS ===================== */
function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

/* ===================== GET UNUSED QUOTE (SILENT RESET) ===================== */
function getUnusedQuote(mood) {
  let pool = QUOTE_LIBRARY[mood].filter(q => !usedQuoteIds.includes(q.id));

  // Silent reset for this mood if exhausted
  if (pool.length === 0) {
    usedQuoteIds = usedQuoteIds.filter(
      id => !QUOTE_LIBRARY[mood].some(q => q.id === id)
    );
    localStorage.setItem("usedQuoteIds", JSON.stringify(usedQuoteIds));
    pool = [...QUOTE_LIBRARY[mood]];
  }

  const q = shuffle(pool)[0];
  usedQuoteIds.push(q.id);
  localStorage.setItem("usedQuoteIds", JSON.stringify(usedQuoteIds));
  return q;
}

/* ===================== CHIT ASSIGNMENT (IMMUTABLE) ===================== */
let chitAssignments =
  JSON.parse(localStorage.getItem("chitAssignments")) || null;

function assignChits() {
  if (chitAssignments) return;

  chitAssignments = {};
  for (let i = 0; i < 40; i++) {
    const mood = MOODS[i % MOODS.length];
    const quote = getUnusedQuote(mood);
    chitAssignments[i] = { mood, text: quote.text };
  }

  localStorage.setItem(
    "chitAssignments",
    JSON.stringify(chitAssignments)
  );
}

/* ===================== CREATE CHITS ===================== */
function createChits() {
  assignChits();
  const bowl = document.getElementById("bowl");
  bowl.innerHTML = "";

  Object.keys(chitAssignments).forEach(i => {
    const { mood, text } = chitAssignments[i];

    const chit = document.createElement("div");
    chit.className = "chit";
    chit.style.background = `var(--${mood})`;
    chit.style.setProperty("--rand", Math.random());
    chit.innerText = "‚ú®";

    chit.onclick = () => {
      document.querySelectorAll(".popup,.popup-overlay")
        .forEach(e => e.remove());

      const overlay = document.createElement("div");
      overlay.className = "popup-overlay";

      const popup = document.createElement("div");
      popup.className = "popup";
      popup.style.borderLeft = `5px solid var(--${mood})`;
      popup.innerHTML = `
        <span class="close-btn">&times;</span>
        <p>${text}</p>
        <button onclick="speak('${text.replace(/'/g,"\\'")}')">üîä Hear it</button>
        <button onclick="saveQuote('${text.replace(/'/g,"\\'")}')">üìå Save</button>
      `;

      const close = () => { popup.remove(); overlay.remove(); };
      overlay.onclick = close;
      popup.querySelector(".close-btn").onclick = close;

      document.body.appendChild(overlay);
      document.body.appendChild(popup);
    };

    bowl.appendChild(chit);
  });
}

/* ===================== SHUFFLE ===================== */
function shuffleChits(btn) {
  const bowl = document.getElementById("bowl");
  bowl.classList.remove("shake");
  void bowl.offsetWidth;
  bowl.classList.add("shake");

  btn.textContent = "üîÑ Shuffling‚Ä¶";

  setTimeout(() => {
    chitAssignments = null;
    localStorage.removeItem("chitAssignments");
    createChits();
    btn.textContent = "üîÑ Shuffle Chits";
  }, 900);
}

/* ===================== VOICE ===================== */
function speak(text) {
  const synth = window.speechSynthesis;
  synth.cancel();
  const u = new SpeechSynthesisUtterance(text);
  u.rate = 0.85;
  u.pitch = 0.95;
  u.volume = 0.95;
  synth.speak(u);
}

/* ===================== SAVE ===================== */
let savedQuotes = JSON.parse(localStorage.getItem("savedQuotes")) || [];

function saveQuote(text) {
  if (savedQuotes.includes(text)) {
    showToast("Already saved ‚ú®");
    return;
  }
  savedQuotes.push(text);
  localStorage.setItem("savedQuotes", JSON.stringify(savedQuotes));
  showToast("Saved gently üåø");
}

function toggleSaved() {
  const panel = document.getElementById("savedPanel");
  const list = document.getElementById("savedList");
  list.innerHTML = "";
  savedQuotes.forEach(q => {
    const item = document.createElement("div");
    item.className = "saved-item";
    item.innerText = q;
    list.appendChild(item);
  });
  panel.classList.toggle("active");
}
function toggleLegend() {
  document.querySelector(".legend").classList.toggle("show");
}
/* ===================== INIT ===================== */
window.onload = createChits;
</script>

</body>
</html>

