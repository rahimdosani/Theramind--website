    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />

      <title>Theramind ‚Äì Your Calm Mental Wellness Space</title>
      <meta name="description" content="Theramind is your calm, always-available mental wellness companion. Journal, breathe, reflect, and chat with a gentle therapist-like assistant ‚Äì all in one safe space." />

      <!-- Favicon -->
     <link rel="icon" type="image/png" href="{{ url_for('static', filename='brain.png') }}">
      <!-- Fonts -->
      <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

      <!-- Particles.js -->
      <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>

      <style>
  :root {
    --bg-light: #f2f6ff;
    --bg-dark: #050616;
    --text-light: #1e1e2f;
    --text-dark: #ffffff;
    --accent: #4f6df5;
    --accent-dark: #3e53cc;
    --glass-bg-light: rgba(255, 255, 255, 0.6);
    --glass-bg-dark: rgba(8, 10, 32, 0.85);
    --shadow: 0 8px 28px rgba(0, 0, 0, 0.08);
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  html, body {
    font-family: 'Poppins', sans-serif;
    height: 100%;
    background: var(--bg-light);
    color: var(--text-light);
    transition: background 0.4s ease, color 0.4s ease;
    overflow-x: hidden;
  }

  body.dark {
    background: radial-gradient(circle at top, #10163a 0, #050616 45%, #01010b 100%);
    color: var(--text-dark);
  }

  /* ---------------- PARTICLES ---------------- */
  #particles-js {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
  }

  header, main, footer {
    position: relative;
    z-index: 2;
  }

  /* ---------------- LOADER ---------------- */
  #loader {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background: linear-gradient(270deg, #4f6df5, #7f87f3, #6fc3df);
    background-size: 600% 600%;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    animation: gradientFlow 8s ease infinite;
    color: white;
    text-align: center;
    padding: 0 20px;
    transition: opacity 0.9s ease;
  }

  @keyframes gradientFlow {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  #loader img {
    width: 90px;
    animation: floatLogo 3s ease-in-out infinite;
    filter: drop-shadow(0 0 10px rgba(255,255,255,0.6));
  }

  @keyframes floatLogo {
    0%,100% { transform: translateY(0); }
    50% { transform: translateY(-15px); }
  }

  #loader h1 {
    margin-top: 20px;
    font-size: 1.8rem;
    opacity: 0;
    animation: fadeUp 2s ease forwards 1s;
  }

  #loader p {
    margin-top: 10px;
    font-size: 1rem;
    max-width: 420px;
    line-height: 1.5;
    opacity: 0;
    animation: fadeUp 2s ease forwards 1.4s;
  }

  @keyframes fadeUp {
    to { opacity: 1; transform: translateY(-10px); }
  }

  /* ---------------- HEADER ---------------- */
  header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 18px 20px;
  max-width: 1200px;
  margin: 0 auto;
}


  .logo {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 700;
    font-size: 1.6rem;
  }

  .logo img { height: 32px; }

  .header-actions {
    display: flex;
    align-items: center;
    gap: 10px;
  }

  .header-actions a,
  .profile-btn {
    padding: 8px 16px;
    border-radius: 999px;
    font-size: 0.9rem;
    font-weight: 600;
    text-decoration: none;
    background: var(--glass-bg-light);
    backdrop-filter: blur(10px);
    color: var(--text-light);
    box-shadow: var(--shadow);
    transition: transform 0.2s ease;
    border: none;
    cursor: pointer;
    white-space: nowrap;
  }

  .header-actions a.primary {
    background: var(--accent);
    color: #fff;
  }

  .profile-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
  }

  body.dark .header-actions a,
  body.dark .profile-btn {
    background: var(--glass-bg-dark);
    color: var(--text-dark);
    border: 1px solid rgba(255,255,255,0.12);
  }

  .header-actions a:hover,
  .profile-btn:hover {
    transform: translateY(-2px);
  }

  .theme-toggle {
    padding: 6px 14px;
    border-radius: 999px;
    background: rgba(255,255,255,0.9);
    font-size: 0.95rem;
    cursor: pointer;
    box-shadow: 0 4px 14px rgba(0,0,0,0.10);
    border: 1px solid rgba(0,0,0,0.06);
  }

  body.dark .theme-toggle {
    background: rgba(9,11,37,0.9);
    color: var(--text-dark);
    border-color: rgba(255,255,255,0.12);
  }

  

@media (max-width: 420px) {
  .header-actions a,
  .profile-btn,
  .theme-toggle {
    font-size: 0.8rem;
    padding: 6px 10px;
  }

  button, a {
    touch-action: manipulation;
  }
}

  /* ---------------- HERO ---------------- */
  .hero {
    text-align: center;
    padding: 110px 20px 80px;
    max-width: 900px;
    margin: auto;
    position: relative;
  }

  .hero::before {
    content: "";
    position: absolute;
    top: -120px;
    left: 50%;
    transform: translateX(-50%);
    width: 700px;
    height: 700px;
    background: radial-gradient(circle, #7f87f3 0%, transparent 70%);
    filter: blur(140px);
    opacity: 0.5;
    z-index: -1;
  }
  @media (min-width: 1024px) {
  .hero::before {
    width: 520px;
    height: 520px;
    filter: blur(120px);
  }
}


  .hero h1 {
    font-size: 3.4rem;
    line-height: 1.1;
    background: linear-gradient(to right, #4f6df5, #7f87f3);
    -webkit-background-clip: text;
    color: transparent;
  }

  .hero p {
    margin-top: 14px;
    font-size: 1.15rem;
    max-width: 520px;
    margin-inline: auto;
    line-height: 1.7;
  }

  body.dark .hero p { color: #d4d7ff; }

  .hero-buttons {
    margin-top: 28px;
    display: flex;
    gap: 14px;
    justify-content: center;
    flex-wrap: wrap;
  }

  .hero-buttons a {
    padding: 13px 26px;
    border-radius: 999px;
    background: var(--accent);
    color: white;
    font-weight: 600;
    text-decoration: none;
    box-shadow: 0 8px 24px rgba(79,109,245,0.38);
  }

  .hero-buttons a.secondary {
    background: rgba(255,255,255,0.95);
    color: var(--text-light);
  }

  body.dark .hero-buttons a.secondary {
    background: rgba(7,10,36,0.96);
    color: #f5f5ff;
    border: 1px solid rgba(255,255,255,0.12);
  }

  /* ---------------- FEATURES ---------------- */
  .features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 28px;
    max-width: 1100px;
    margin: 80px auto;
    padding: 0 20px;
  }

  .feature-card {
    background: var(--glass-bg-light);
    backdrop-filter: blur(14px);
    border-radius: 20px;
    padding: 26px 24px;
    box-shadow: var(--shadow);
    text-decoration: none;
    color: inherit;
    border: 1px solid rgba(255,255,255,0.4);
    transition: transform .28s, box-shadow .28s, border .28s;
  }

  body.dark .feature-card {
    background: var(--glass-bg-dark);
    border-color: rgba(255,255,255,0.08);
  }

  .feature-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 16px 40px rgba(0,0,0,0.18);
    border-color: rgba(79,109,245,0.6);
  }

  /* ---------------- WHY THERAMIND ---------------- */
  .why-theramind {
    padding: 80px 20px;
    text-align: center;
    background: rgba(255,255,255,0.8);
    backdrop-filter: blur(10px);
  }

  body.dark .why-theramind {
    background: radial-gradient(circle at top, rgba(19,27,76,0.95), rgba(4,6,23,0.98));
  }

  .why-theramind h2 {
    font-size: 2.1rem;
    margin-bottom: 14px;
    font-weight: 700;
  }

  .why-theramind p.subtitle {
    font-size: 0.98rem;
    opacity: 0.85;
    max-width: 520px;
    margin: 0 auto 40px;
  }

  .why-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 26px;
    max-width: 1000px;
    margin: auto;
  }

  .why-card {
    background: var(--glass-bg-light);
    padding: 24px;
    border-radius: 18px;
    box-shadow: var(--shadow);
    font-size: 0.95rem;
    line-height: 1.6;
  }

  body.dark .why-card {
    background: rgba(3,6,29,0.96);
    border: 1px solid rgba(255,255,255,0.12);
  }
.theme-toggle {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 36px;
  min-height: 36px;
  line-height: 1;
}

#themeIcon {
  font-size: 1.1rem;
}

  /* ---------------- FOOTER ---------------- */
footer {
  text-align: center;
  padding: 40px 20px 28px;
  font-size: 0.88rem;
  color: gray;

  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(0,0,0,0.05);
}

body.dark footer {
  background: rgba(6, 8, 30, 0.95);
  color: #a6a9d9;
  border-top: 1px solid rgba(255,255,255,0.08);
}


.flash {
  padding: 14px 18px;
  margin-bottom: 12px;
  border-radius: 14px;
  font-size: 14px;
  font-weight: 500;
  backdrop-filter: blur(10px);
  box-shadow: 0 10px 30px rgba(0,0,0,.15);
}

.flash-success {
  background: rgba(236,253,245,.95);
  color: #065f46;
}

.flash-warning {
  background: rgba(255,247,237,.95);
  color: #92400e;
}

.flash-danger {
  background: rgba(255,241,242,.95);
  color: #b91c1c;
}
  
#flash-container {
  position: fixed;
  top: 90px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
}

.flash-toast {
  background: #ecfdf5;
  color: #065f46;
  padding: 14px 22px;
  border-radius: 999px;
  font-size: 14px;
  font-weight: 500;
  box-shadow: 0 12px 30px rgba(0,0,0,.18);
  animation: slideFade 0.4s ease, disappear 0.4s ease 4s forwards;
}

/* Variants */
.flash-toast.success { background:#ecfdf5; color:#065f46 }
.flash-toast.warning { background:#fff7ed; color:#92400e }
.flash-toast.danger  { background:#fff1f2; color:#b91c1c }

.hero-eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.85rem;
  opacity: 0.85;
  margin-bottom: 12px;
}


/* Animations */
@keyframes slideFade {
  from { opacity:0; transform:translate(-50%, -10px); }
  to   { opacity:1; transform:translate(-50%, 0); }
}

@keyframes disappear {
  to { opacity:0; transform:translate(-50%, -10px); }
}

  /* ---------------- RESPONSIVE ---------------- */
  @media (max-width: 768px) {
  .profile-btn {
    padding: 6px 12px;
    font-size: 0.82rem;
    gap: 4px;
  }

  .profile-btn span {
    display: inline;
  }
}

  @media (max-width: 480px) {
    .hero h1 { font-size: 2.4rem; }
    .hero p { font-size: 1rem; }
  }

  @media (max-width: 360px) {
    .hero h1 { font-size: 2.1rem; }
  }
  @media (max-width: 480px) {
  .header-actions {
    gap: 6px;
  }

  .header-actions a,
  .profile-btn,
  .theme-toggle {
    padding: 6px 12px;
    font-size: 0.82rem;
  }
}
@media (hover: none) {
  .feature-card:active {
    transform: scale(0.97);
  }
}
/* ===== MOBILE HEADER FIX (FINAL & SAFE) ===== */

/* Ensure header is always clickable */
header {
  position: relative;
  z-index: 50;
}

/* Prevent invisible layers stealing taps */
#particles-js,
#loader {
  pointer-events: none;
}

/* Header actions always above background */
.header-actions {
  position: relative;
  z-index: 51;
  display: flex;
  align-items: center;
  gap: 8px;
  flex-wrap: nowrap;
}

/* Buttons always tappable */
.header-actions a,
.profile-btn,
.theme-toggle {
  pointer-events: auto;
  white-space: nowrap;
}

/* Mobile layout */
@media (max-width: 768px) {
  header {
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  .logo {
    font-size: 1.4rem;
    flex-shrink: 0;
  }

  .header-actions {
    flex-wrap: nowrap;
  }

  .profile-btn span:last-child {
    display: none;
  }
}

/* Small phones */
@media (max-width: 420px) {
  .header-actions a,
  .profile-btn,
  .theme-toggle {
    padding: 6px 10px;
    font-size: 0.78rem;
  }
}
/* ===== MOBILE HEADER VISIBILITY FIX ===== */
@media (max-width: 768px) {
  header {
    max-width: 100%;
    padding: 12px 14px;
  }

  .header-actions {
    gap: 6px;
    flex-shrink: 0;
  }

  .header-actions a,
  .profile-btn,
  .theme-toggle {
    padding: 6px 10px;
    font-size: 0.78rem;
  }
}

/* Ultra-small phones */
@media (max-width: 360px) {
  .header-actions a:not(.primary) {
    display: none; /* hides Login, keeps Sign Up */
  }
}
@media (max-width: 768px) {
  .hero {
    padding-top: 90px;
  }
}

</style>
    </head>
    <body>
  <!-- Particles -->
  <div id="particles-js" aria-hidden="true"></div>

  <!-- Loader -->
  <div id="loader" role="status" aria-live="polite">
    <img src="https://img.icons8.com/fluency/96/brain.png" alt="Theramind logo" />
    <h1>Welcome to Theramind</h1>
    <p>Your gentle space to breathe, reflect, and feel heard.</p>
  </div>

  <!-- Header -->
  <header role="banner">
    <div class="logo" aria-label="Theramind home">
      <img src="https://img.icons8.com/fluency/48/brain.png" alt="Theramind brain icon">
      Theramind
    </div>

    <div class="header-actions">
  <a href="/login" id="loginBtn">Login</a>
  <a href="/signup" class="primary" id="signupBtn">Sign Up</a>

  <button class="profile-btn" aria-label="Profile" id="profileBtn">
    <span>üë§</span>
    <span>Profile</span>
  </button>

  <a href="/logout" id="logoutBtn" style="display:none;">Logout</a>

  <button class="theme-toggle" id="themeToggle" aria-label="Toggle theme">
    <span id="themeIcon">üåô</span>
  </button>
</div>


  </header>
  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div id="flash-container">
      {% for category, msg in messages %}
        <div class="flash-toast {{ category }}">{{ msg }}</div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}



  <!-- Main Content -->
  <main role="main">
    <!-- Hero -->
    <section class="hero" aria-labelledby="hero-title">
      <div class="hero-eyebrow">
        <span>‚ú®</span>
        <span>Take a moment for yourself</span>
      </div>

      <h1 id="hero-title">Nurture your mind, one small step at a time.</h1>

      <p>
        Theramind is your calm companion for tough days, overthinking nights,
        and everything in between. Journal, breathe, and talk things through
        in a safe, gentle space.
      </p>

      <div class="hero-buttons">
        <a href="/index">
          <span>üí¨</span>
          <span>Start a chat</span>
        </a>
        <a href="/journaling" class="secondary">
          <span>üìù</span>
          <span>Write in your journal</span>
        </a>
      </div>
    </section>

    <!-- Features -->
    <section class="features" aria-label="Theramind tools">
      <a class="feature-card" href="/index">
        <span>üí¨</span>
        <h3>Chat with Theramind</h3>
        <p>Your therapist-like companion that listens, reflects, and supports without judgment.</p>
      </a>

      <a class="feature-card" href="/journaling">
        <span>üìî</span>
        <h3>Journal Your Emotions</h3>
        <p>Capture your thoughts, patterns, and small wins with gentle space for reflection.</p>
      </a>

      <a class="feature-card" href="/breathing">
        <span>üå¨Ô∏è</span>
        <h3>Guided Breathing</h3>
        <p>Short, science-backed breathing practices to ground you during anxious or heavy moments.</p>
      </a>

      <a class="feature-card" href="/pick-a-peace">
        <span>üéÅ</span>
        <h3>Pick-a-Peace</h3>
        <p>Draw a small piece of calm wisdom when you need a gentle nudge or reminder.</p>
      </a>

      <a class="feature-card" href="/calm-corner">
        <span>üéß</span>
        <h3>Calm Corner</h3>
        <p>Sink into affirmations and nature soundscapes to create your own pocket of peace.</p>
      </a>

      <a class="feature-card" href="/ebooks">
        <span>üìö</span>
        <h3>Motivational eBooks</h3>
        <p>Browse curated eBooks for different emotional seasons and self-growth journeys.</p>
      </a>

      <a class="feature-card" href="/history">
        <span>üïì</span>
        <h3>Your History</h3>
        <p>Revisit mood logs, journal entries, and chats to see how far you‚Äôve already come.</p>
      </a>
    </section>

    <!-- Why Theramind -->
    <section class="why-theramind" aria-labelledby="why-title">
      <h2 id="why-title">Why Theramind?</h2>
      <p class="subtitle">
        Built to be safe, supportive, and present ‚Äî whenever you need it.
      </p>

      <div class="why-grid">
        <div class="why-card">üîí Your privacy comes first. Your thoughts stay yours.</div>
        <div class="why-card">ü§ç No judgment. No pressure. Just understanding.</div>
        <div class="why-card">‚è∞ Always available ‚Äî day or night.</div>
        <div class="why-card">üß† Designed using psychology-backed principles.</div>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer role="contentinfo">
    <p>¬© 2025 Theramind. All rights reserved.</p>
    <nav aria-label="Footer navigation">
      <a href="/privacy">Privacy Policy</a> |
      <a href="/terms">Terms of Service</a> |
      <a href="/contact">Contact</a>
    </nav>
    <p>Made with ‚ù§Ô∏è for global mental wellness.</p>
  </footer>


      <script>
  window.addEventListener("DOMContentLoaded", () => {
    /* ----------------------------------
       Safety cleanup
    ---------------------------------- */
    document.body.classList.remove("sidebar-open");

    /* ----------------------------------
       Loader (once per session)
    ---------------------------------- */
    const loader = document.getElementById("loader");

    if (!sessionStorage.getItem("welcomeShown")) {
      sessionStorage.setItem("welcomeShown", "true");

      setTimeout(() => {
        loader.style.opacity = "0";
        setTimeout(() => {
          loader.style.display = "none";
        }, 900);
      }, 2200); // slightly faster for better UX
    } else {
      loader.style.display = "none";
      loader.setAttribute("aria-hidden", "true");
    }

    /* ----------------------------------
       Theme handling
    ---------------------------------- */
    const themeBtn = document.getElementById("themeToggle");
    const themeIcon = document.getElementById("themeIcon");

    const storedTheme = localStorage.getItem("theme");
    const prefersDark = window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;

    const isDarkInitial =
      storedTheme === "dark" || (!storedTheme && prefersDark);

    document.body.classList.toggle("dark", isDarkInitial);
    themeIcon.textContent = isDarkInitial ? "üåû" : "üåô";

    themeBtn.addEventListener("click", () => {
      const isDark = document.body.classList.toggle("dark");
      themeIcon.textContent = isDark ? "üåû" : "üåô";
      localStorage.setItem("theme", isDark ? "dark" : "light");
      loadParticlesBasedOnTheme();
    });

    /* ----------------------------------
       Profile button (future-ready)
    ---------------------------------- */
    const profileBtn = document.querySelector(".profile-btn");
    if (profileBtn) {
      profileBtn.addEventListener("click", () => {
        // Placeholder routing logic
        // Later: replace with auth state check
        window.location.href = "/profile";
      });
    }

    /* ----------------------------------
       Init particles
    ---------------------------------- */
    loadParticlesBasedOnTheme();
  });

  function loadParticlesBasedOnTheme() {
    const isDark = document.body.classList.contains("dark");
    const prefersReducedMotion = window.matchMedia &&
      window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    // Disable particles completely if user prefers reduced motion
    if (prefersReducedMotion) {
      if (window.pJSDom && window.pJSDom.length) {
        window.pJSDom.forEach(p => p.pJS.fn.vendors.destroypJS());
        window.pJSDom = [];
      }
      return;
    }

    const isMobile = window.innerWidth <= 768;
    const particleColor = isDark ? "#ffffff" : "#4f6df5";

    // Destroy existing instance safely
    if (window.pJSDom && window.pJSDom.length) {
      window.pJSDom.forEach(p => p.pJS.fn.vendors.destroypJS());
      window.pJSDom = [];
    }

    particlesJS("particles-js", {
      particles: {
        number: {
          value: isMobile ? 40 : 60,
          density: { enable: true, value_area: 800 }
        },
        color: { value: particleColor },
        opacity: { value: 0.32 },
        size: { value: 3 },
        line_linked: {
          enable: true,
          color: particleColor,
          opacity: 0.28,
          distance: 130,
          width: 1
        },
        move: {
          enable: true,
          speed: isMobile ? 0.8 : 1.1
        }
      },
      interactivity: {
        detect_on: "canvas",
        events: {
          onhover: { enable: !isMobile, mode: "grab" },
          onclick: { enable: !isMobile, mode: "push" },
          resize: true
        },
        modes: {
          grab: {
            distance: 120,
            line_linked: { opacity: 0.5 }
          },
          push: { particles_nb: 2 }
        }
      },
      retina_detect: true
    });
  }
  setTimeout(() => {
    const flash = document.getElementById("flash-container");
    if (flash) flash.remove();
  }, 4500);
  // Auth UI handling
const isLoggedIn = {{ 'true' if is_logged_in else 'false' }};
const username = "{{ username if username else '' }}";

const loginBtn = document.getElementById("loginBtn");
const signupBtn = document.getElementById("signupBtn");
const profileBtn = document.getElementById("profileBtn");
const logoutBtn = document.getElementById("logoutBtn");

if (isLoggedIn) {
  loginBtn.style.display = "none";
  signupBtn.style.display = "none";
  logoutBtn.style.display = "inline-block";

  if (username) {
    const greet = document.createElement("span");
    greet.textContent = `Hi, ${username} üëã`;
    greet.style.fontWeight = "600";
    greet.style.opacity = "0.85";
    document.querySelector(".header-actions").prepend(greet);
  }
} else {
  profileBtn.style.display = "none";
}
</script>
    </body>
    </html>
